# 事务的作用、特性

## 事务的作用

在进行数据库操作前先开启事务，等所有的数据库操作完成后，才提交事务，对于已提交的事务来说，该事务对数据库所做的修改将永久生效，如果途中发生中断或错误，那么该事务期间对数据库所做的修改将会被回滚到没执行改事务之前的状态。

---



## 事务的特性

### **ACID**

原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）和持久性（Durability）

### **原子性**

要么全做，要么全不做的规则称之为原子性

### **一致性**

如果数据库中的数据全部符合现实世界中的约束，我们说这些数据就是符合一致性的（A给B转账200元，一致性要求经过    这个操作后，A的账户减少200元，B的账户增加200元，不能出现A减了200元，而B没有增加的情况）

### **隔离性**

数据库可以防止多个事务并发执行时由于交叉执行而导致的数据不一致

### **持久性**

事务处理结束之后，对数据的修改时永久的，即便系统故障也不会丢失

---



**事务由MySQL的引擎来实现，InnoDB引擎支持事务，MyISAM引擎不支持事务**

InnoDB引擎通过什么技术来保证事务的这四个特性？

* 持久性通过 redo log (重做日志) 
* 原子性通过 undo log (回滚日志) 
* 隔离性通过 MVCC (多版本并发控制) 或锁机制
* 一致性则是通过 持久性 + 原子性 + 隔离性 来保证



