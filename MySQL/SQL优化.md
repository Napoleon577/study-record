## SQL优化

* **减少磁盘IO**：尽量避免全表扫描、尽量使用索引、尽量使用索引覆盖避免回表操作
* **减少内存的CPU消耗**：尽可能减少排序、分组、去重之类的操作、尽量减少事务持有锁的时间

### 怎么设计索引列

大多数慢SQL的原因，都是因为没有索引导致全表扫描

一张数据库表除了主键id默认是索引之外，还可以针对其他列建立索引来提高查询效率，对列建立索引的时候，可以参考以下规则：

* 频繁出现在 **WHERE** 中的列，主要是为了避免全表扫描
* 频繁出现在 **ORDER BY** 中的列，这样查询的时候就不需要再去做一次排序了，因为建立索引后在 B+ 树中的记录是排序好的。
* 区分度很高的列。对于性别字段，这种区分度不是很高的列，建立索引没有意义