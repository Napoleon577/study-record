## 为什么MySQL采用B+树作为索引

### MySQL默认的存储引擎InnoDB采用的是B+树作为索引的数据结构，原因有：

* B+树的非叶子节点不存放实际的记录数据，仅存放索引，因此相同数据量的情况下，相比即存索引又存数据的B树，B+树的非叶子节点可以存放更多的索引，因此B+树比B树更矮胖，查询底层节点的磁盘I/O次数会更少。
* B+ 树有大量的冗余节点（所有的非叶子节点都是冗余索引），这些冗余索引让B+ 树在插入、删除的效率都更高，比如删除根节点的时候，不会像B 树那样发生复杂的树的变化。
* B+ 树叶子节点之间通过链表连接起来，有利于范围查询，而B树要实现范围查询，只能通过树的遍历来完成范围查询，这会涉及到多个节点的磁盘I/O操作，查询效率不如B+ 树。

### 二分查找树

当每次插入的元素都是二叉查找树中的最大元素时，二分查找树会变成一条链表，导致树的高度越来越高，意味着磁盘I/O数量越多，所以不适合作为数据库的索引结构。

### 自平衡二叉树、红黑树

不管是平衡二叉树还是红黑树，都会随着插入的元素增多，而导致树的高度变高，意味着磁盘I/O次数变多，会影响整体的查询效率。

2024年11月2日