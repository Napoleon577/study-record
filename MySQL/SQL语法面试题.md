# SQL语法面试题



## 1.count主键和count非主键结果会不同吗？

因为主键的列不能存NULL值，所以count主键，返回的是数据库表中所有行数据的数量

因为非主键的列可以存NULL值，所以count非主键，返回的是表中非NULL值的数量

![image-20241106014411074](C:\Users\Napoleon\Desktop\学习记录\photo\image-20241106014411074.png)



## 2.count（*）和count（1）有什么区别？哪个性能最好？

count（*） 和 count（1）执行过程基本是一样的，都需要通过遍历计算所有数据，所以性能也是一样的



## 3.MySQL内连接和外连接有什么区别？

**内连接：** 返回两个表中匹配的行

**外连接分为左连接和右连接：**

**左连接**：返回左表中的所有数据，和右表中与左表匹配的数据。如果没有匹配的数据，则用NULL值填充

**右连接：**返回右表中的所有数据，和左表中与右表匹配的数据。如果没有匹配的数据，则用NULL值填充



## 4.外连接时 on 和 where 过滤条件的区别？

* 对于内连接查询，where 和 on 中的过滤条件等效。
* 对于外连接查询，on 中的过滤条件在连接时进行， where 中的过滤条件在连接操作之后执行



## 5.having 与 where 的区别？

在 GROUP BY 分组查询中，where 是工作在 GROUP BY 之前的，对分组前的数据进行过滤，无法使用聚合函数。

having 工作在GROUP BY 之后，对分组后的数据进行过滤，可以使用聚合函数。



## 6.exists 和 in 的区别？

exists 通常在处理大型数据集时性能更好，特别是当子查询返回大量数据时。

因为exists 一旦找到匹配的记录就会停止查询，而 in 需要处理整个子查询的结果集。

如果查询的两个表大小相当，则性能差别不大。

![image-20241106025217992](C:\Users\Napoleon\Desktop\学习记录\photo\image-20241106025217992.png)

## 7.MySQL的约束有哪些？

MySQL有5种约束：主键约束、外键约束、唯一性约束、非空约束、默认约束

- 主键约束：唯一标识一条数据，一般用id字段作为主键，一张表里只能有一个主键
- 外键约束：确保表与表之间引用的完整性，防止在子表中的记录没有对应父表的记录
- 唯一性约束：保证字段在表中是唯一的
- 非空约束：保证字段不能为NULL
- 默认约束：给字段设置默认值

## 8、delete、drop、 truncate有什么区别

delete操作并不是真的把数据删除，二是给数据打上删除标记，目的是为了空间复用，所以delete删除表数据，磁盘文件大小是不会缩减的。

drop是删除表结构和表数据，truncate是删除表数据，表结构并不会删除，drop和truncate删除的数据都是不可以回滚的，并且会立刻释放磁盘空间。

## 9.联合查询中 union 和 union all 有什么区别

union 和 union all 都是用于合并两个或多个 select 语句结果集的操作符，区别在于：

union 会对结果集进行去重，而union all 返回所有结果，包括重复的行。

## 10、数据库三大范式是什么？

一范式 要求所有属性都是不可分的基本数据项

二范式 目的是解决部分依赖

三范式 目的是解决传递依赖